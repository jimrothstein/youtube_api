---
title: Template for .Rmd
output: 
  pdf_document:
    latex_engine: xelatex
    toc:  TRUE
    toc_depth:  1
fontsize: 12pt
geometry: margin=0.5in,top=0.25in
#  md_document:
#  html_document:
#    toc: true
#  	toc_float: true
#    css: styles.css
---

GIVEN a channel ID  (mine) , return total number of playlists.
```{r setup, include=FALSE		}
knitr::opts_chunk$set(echo = TRUE,  
                      comment="      ##",  
                      error=TRUE, 
                      collapse=TRUE)
```

```{r library, include=FALSE		}
load_all()
```

```{r render, eval=FALSE	}
here()
file <- "010_playlists_count.Rmd"
file  <- basename(file)
dir="rmd"
```

```{r begin}
api <- get_api_codes()
if (!exists("l")) l  <- get_typical_values()
base_url <- "https://www.googleapis.com/youtube/v3/playlists"
```


Auth_code
```{r get_auth_code}
auth.code  <- getOption("auth.code")
auth.code
```
```{r get_count}
query  <- list(
  part="snippet",
 	channel_id="UClB5qWyXejlAwwkDAzJis-Q",
	max_results=50,
	fields="pageInfo(totalResults)",
	key = api$api_key
	)

r  <- httr::GET("https://www.googleapis.com/youtube/v3/playlists",
 							query= query,
 							config = httr::config(token = auth.code)
							) %>% 
	httr::stop_for_status()

json_content  <- get_json(r)
count  <- json_content$pageInfo$totalResults
count #16 is too low

```

```{r}
```


```{r knit_exit()}
knitr::knit_exit()
```
